import{j as h,r as k,R as C}from"./react-76f7fb99.js";import{c as L}from"./react-dom-22628c77.js";import{f as w}from"./@faker-js-4a193f06.js";import{t as W}from"./tailwind-merge-4ef572ef.js";import"./scheduler-765c72db.js";(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))z(a);new MutationObserver(a=>{for(const x of a)if(x.type==="childList")for(const B of x.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&z(B)}).observe(document,{childList:!0,subtree:!0});function m(a){const x={};return a.integrity&&(x.integrity=a.integrity),a.referrerPolicy&&(x.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?x.credentials="include":a.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function z(a){if(a.ep)return;a.ep=!0;const x=m(a);fetch(a.href,x)}})();const F=()=>{const u=a=>a.split(" ")[0].toUpperCase(),b={0:u(w.animal.cetacean()),1:u(w.word.adjective()),2:u(w.word.adverb()),3:u(w.word.conjunction()),4:u(w.word.interjection()),5:u(w.word.noun()),6:u(w.word.preposition()),7:u(w.word.sample()),8:u(w.word.words()),9:u(w.word.verb())},m=new Set;for(let a=0;a<w.number.int({min:3,max:12});a++)m.add(w.number.int({min:0,max:9}));return[...m.values()].map(a=>b[a]).filter(a=>a.length<=12)},U=function(){const u="abcdefghijklmnoprstuvwy",b=["horizontal","horizontalBack","vertical","verticalUp","diagonal","diagonalUp","diagonalBack","diagonalUpBack"],m={horizontal:function(n,t,e){return{x:n+e,y:t}},horizontalBack:function(n,t,e){return{x:n-e,y:t}},vertical:function(n,t,e){return{x:n,y:t+e}},verticalUp:function(n,t,e){return{x:n,y:t-e}},diagonal:function(n,t,e){return{x:n+e,y:t+e}},diagonalBack:function(n,t,e){return{x:n-e,y:t+e}},diagonalUp:function(n,t,e){return{x:n+e,y:t-e}},diagonalUpBack:function(n,t,e){return{x:n-e,y:t-e}}},z={horizontal:function(n,t,e,o,r){return o>=n+r},horizontalBack:function(n,t,e,o,r){return n+1>=r},vertical:function(n,t,e,o,r){return e>=t+r},verticalUp:function(n,t,e,o,r){return t+1>=r},diagonal:function(n,t,e,o,r){return o>=n+r&&e>=t+r},diagonalBack:function(n,t,e,o,r){return n+1>=r&&e>=t+r},diagonalUp:function(n,t,e,o,r){return o>=n+r&&t+1>=r},diagonalUpBack:function(n,t,e,o,r){return n+1>=r&&t+1>=r}},a={horizontal:function(n,t,e){return{x:0,y:t+1}},horizontalBack:function(n,t,e){return{x:e-1,y:t}},vertical:function(n,t,e){return{x:0,y:t+100}},verticalUp:function(n,t,e){return{x:0,y:e-1}},diagonal:function(n,t,e){return{x:0,y:t+1}},diagonalBack:function(n,t,e){return{x:e-1,y:n>=e-1?t+1:t}},diagonalUp:function(n,t,e){return{x:0,y:t<e-1?e-1:t+1}},diagonalUpBack:function(n,t,e){return{x:e-1,y:n>=e-1?t+1:t}}},x=function(n,t){const e=[];let o,r,c;for(console.log("options = ",t),o=0;o<t.height;o++)for(e.push([]),r=0;r<t.width;r++)e[o].push("");for(c=n.length,o=0;o<c;o++)if(!B(e,t,n[o]))return null;return e},B=function(n,t,e){const o=M(n,t,e);if(o.length===0)return!1;const r=o[Math.floor(Math.random()*o.length)];return P(n,e,r.x,r.y,m[r.orientation]),!0},M=function(n,t,e){const o=[],r=t.height,c=t.width,i=e.length;let l=0;for(let s=0,f=t.orientations.length;s<f;s++){const d=t.orientations[s],g=z[d],p=m[d],y=a[d];let v=0,j=0;for(;j<r;)if(g(v,j,r,c,i)){const N=O(e,n,v,j,p);(N>=l||!t.preferOverlap&&N>-1)&&(l=N,o.push({x:v,y:j,orientation:d,overlap:N})),v++,v>=c&&(v=0,j++)}else{const N=y(v,j,i);v=N.x,j=N.y}}return t.preferOverlap?S(o,l):o},O=function(n,t,e,o,r){let c=0;for(let i=0,l=n.length;i<l;i++){const s=r(e,o,i),f=t[s.y][s.x];if(f===n[i])c++;else if(f!=="")return-1}return c},S=function(n,t){const e=[];for(let o=0,r=n.length;o<r;o++)n[o].overlap>=t&&e.push(n[o]);return e},P=function(n,t,e,o,r){for(let c=0,i=t.length;c<i;c++){const l=r(e,o,c);n[l.y][l.x]=t[c]}};return{validOrientations:b,orientations:m,newPuzzle:function(n,t){let e,o,r=0;const c=t||{};console.log("newPuzzle() :: settings = ",t),e=n.slice(0).sort(function(l,s){return l.length<s.length?1:0});const i={height:c.height||e[0].length,width:c.width||e[0].length,orientations:c.orientations||b,fillBlanks:c.fillBlanks!==void 0?c.fillBlanks:!0,maxAttempts:c.maxAttempts||3,preferOverlap:c.preferOverlap!==void 0?c.preferOverlap:!0};for(;!o;){for(;!o&&r++<i.maxAttempts;)o=x(e,i);o||(i.height++,i.width++,r=0)}return i.fillBlanks&&this.fillBlanks(o),o},fillBlanks:function(n){for(let t=0,e=n.length;t<e;t++){const o=n[t];for(let r=0,c=o.length;r<c;r++)if(!n[t][r]){const i=Math.floor(Math.random()*u.length);n[t][r]=u[i]}}},solve:function(n,t){const e={height:n.length,width:n[0].length,orientations:b,preferOverlap:!0},o=[],r=[];for(let c=0,i=t.length;c<i;c++){const l=t[c],s=M(n,e,l);s.length>0&&s[0].overlap===l.length?(s[0].word=l,o.push(s[0])):r.push(l)}return{found:o,notFound:r}},print:function(n){let t="";for(let e=0,o=n.length;e<o;e++){const r=n[e];for(let c=0,i=r.length;c<i;c++)t+=(r[c]===""?" ":r[c])+" ";t+=`
`}return console.log(t),t}}},E=({onClick:u})=>h.jsx("div",{className:"flex z-50 absolute left-0 right-0 top-0 bottom-0 items-center justify-center bg-slate-900/80",children:h.jsxs("div",{className:"bg-white p-4 rounded-lg flex flex-col items-center ",children:[h.jsx("div",{children:"Congratulation You Have Solved The Puzzle "}),h.jsx("div",{children:"Continue With New Words "}),h.jsxs("p",{children:["The code for grid generation is inspired from"," ",h.jsx("a",{className:"underline font-bold",href:"https://github.com/bunkat/wordfind",target:"_blank",children:"Here"})]}),h.jsx("button",{onClick:u,className:"bg-slate-700 px-4 py-2 mt-4 rounded-lg text-white hover:bg-slate-700/80",children:"New Puzzle"})]})}),{orientations:R}=U(),A=()=>{const[u,b]=k.useState([[]]),[m,z]=k.useState([]),[a,x]=k.useState([]),[B,M]=k.useState(!1),O=k.useRef(new Set),S=k.useRef(""),[P,n]=k.useState([]),t=(i,l)=>{const s=m.some(f=>f==i);return s&&(O.current.add(i),x([...a,...l]),n([]),S.current=""),s},e=(i,l,s)=>{P.length?n([]):n([{x:i,y:l,word:s}])},o=(i,l)=>{if(!P.length)return;const s=P[0];if(!(s.x==i&&s.y==l)){if(s.x==i&&s.y!=l){const f=s.y-l,d=[s];let g="";for(let p=0;p<=Math.abs(f);p++){const y=s.y+p*(f<0?1:-1);if(g+=u[i][y],d.push({x:i,y,word:u[i][y]}),t(g,d)||t(g.split("").reverse().join(""),d))return}S.current=g,n(d)}if(s.x!=i&&s.y==l){const f=i-s.x,d=[s];let g="";for(let p=0;p<=Math.abs(f);p++){const y=s.x+p*(f>0?1:-1);if(g+=u[y][l],d.push({y:l,x:y,word:u[y][l]}),t(g,d)||t(g.split("").reverse().join(""),d))return}S.current=g,n(d)}if(Math.abs(s.x-i)==Math.abs(s.y-l)){const f=i-s.x,d=l-s.y,g=[s];let p="";for(let y=0;y<=Math.abs(f);y++){const v=s.x+y*(f>0?1:-1),j=s.y+y*(d>0?1:-1);if(p+=u[v][j],g.push({y:j,x:v,word:u[v][j]}),t(p,g)||t(p.split("").reverse().join(""),g))return}S.current=p,n(g)}}},r=()=>{const i=U().solve(u,m),l=[];for(const s of i.found)for(let f=0;f<s.overlap;f++){const d=R[s.orientation](s.x,s.y,f);l.push({y:d.x,x:d.y,word:u[d.x][d.y]})}x(l)},c=()=>{const i=F(),l=U().newPuzzle(i,{height:12,width:12,fillBlanks:!0});O.current=new Set,b(l),z(i),x([]),n([]),M(!1)};return k.useEffect(()=>{c()},[]),k.useEffect(()=>{m.length&&O.current.size==m.length&&M(!0)}),h.jsxs("div",{className:"h-screen w-full flex items-center justify-center bg-slate-900 gap-4",children:[h.jsx("div",{className:"w-max grid grid-cols-12 content-center gap-2",children:u.map((i,l)=>i.map((s,f)=>{const d=P.some(p=>p.x==l&&p.y==f),g=a.some(p=>p.x==l&&p.y==f);return h.jsx("div",{id:`${l}-${f}`,className:W("w-10 h-10 capitalize text-white bg-slate-700 flex items-center justify-center rounded-md transition-all",`${d?"bg-yellow-400 scale-110":""} ${g?"bg-green-400 scale-105":""}`),onClick:()=>e(l,f,s),onMouseEnter:()=>{o(l,f)},children:s})}))}),h.jsxs("div",{className:"flex flex-col items-start gap-2  max-w-[15rem] flex-wrap",children:[h.jsx("button",{onClick:c,className:"bg-slate-400 px-4 py-2 font-bold text-white rounded-lg",children:"New Puzzle"}),h.jsx("button",{onClick:r,className:"bg-slate-400 px-4 py-2 font-bold text-white rounded-lg",children:"Solve"}),h.jsx("div",{className:"flex gap-2  max-w-[15rem] flex-wrap",children:m.map(i=>h.jsx("div",{className:W("px-4 py-2 font-bold bg-white rounded-lg",`${O.current.has(i)?"line-through":""}`),children:i}))})]}),B&&h.jsx(E,{onClick:c})]})};function $(){return h.jsx(h.Fragment,{children:h.jsx(A,{})})}L.createRoot(document.getElementById("root")).render(h.jsx(C.StrictMode,{children:h.jsx($,{})}));
